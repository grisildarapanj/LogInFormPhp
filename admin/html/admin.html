<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
  
<meta name="viewport" content="width=device-width, initial-scale=1">
 <script type="text/javascript" src="../../assets/jquery.js"></script>
 <script type="text/javascript" src="../../assets/canvasjs.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>




<script type="text/javascript" src="../../register/js/after_logout.js"></script>





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!-- shtimi i tabeles -->
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!--mbaron-->
<!-- shtimi i tabeles pjesa 2 -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="../css/admin_css.css">
<!-- shtimi per tabelen -->
  
           <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>  
           <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />  
           <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>  
           <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>            
           <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" />   
<!--  <script src="../js/get_data_from_salary.js"></script> -->
  <script type="text/javascript" src="../../assets/jquery.js"></script>

<!-- shtime per data table server -->
<!-- Datatable CSS -->
<link href='//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css' rel='stylesheet' type='text/css'>

<!-- jQuery Library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Datatable JS -->
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<!-- mbaron -->
<link rel="stylesheet" type="text/css" href="../../DataTable/datatables.min.css"/>
 
<script type="text/javascript" src="../../DataTable/datatables.min.js"></script>
<script>
function myFunction(){
  // window.location.href = "../../register/html/logimi2.html";
  for(var i=0;i<10;i++){
 window.location.replace('../../register/html/logimi2.html');
}
  // Page.ClientScript.RegisterStartupScript(this.GetType(),"clearHistory","ClearHistory();",true);
}
</script>
</head>
<body >
<div class="navbar">
<p style="color: blue; font-size:40px;margin-right: 50%;"> Admin Panel </p>
  <div class="dropdown" style="margin-left:50%;">
    <button class="dropbtn" >Welcome,admin
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <!-- <a href="../../register/html/logimi2.html">Logout</a> -->
     <form  action="../../register/php/logout.php" style="display: block;"> 
         <button  >Log out</button>
     </form>
    </div>
  </div> 
</div>
 
<div class="container-fluid main-container">
		<div class="col-md-2 sidebar">
			<ul class="nav nav-pills nav-stacked" style="font-size: 15px;outline-style: double;">
				<li><a href="add_worker.html">Create user</a></li>
				<li><a href="delete_worker.html">Delete user</a></li>
				<li><a href="../../user/html/worker_preferences.html">Modify user</a></li>
			</ul>
		</div>
 </div>  
           <br /><br />  
           <div class="container">  
                <h3 align="center">All users</h3>  
                <br />  
                <div class="table-responsive">  
                     <table id="employee_data" class="display" >  
                          <thead>  
                               <tr>  
                                    <td>Name</td>  
                                    <td>Surname</td>  
                                    <td>Email</td>  
                                    <td>Address</td>  
                                    <td>Salary</td>  
                               </tr>  
                          </thead> 
                          
                     </table>  
                </div>  
           </div>  
 <script>  
// $(document).ready(function(){  
  //  $('#employee_data').DataTable( {
        // "processing": true,
        // "serverSide": true,
        // "ajax": "../php/server_side.php"
 //        serverSide: true,
 //    ajax: {
 //        url: '../php/server_side.php',
 //        dataFilter: function(data){
 //            var json = JSON.parse(data);
 //            json.recordsTotal = json.total;
 //            json.recordsFiltered = json.total;
 //            json.data = json.list;
 
 //            return JSON.stringify( json ); // return JSON string
 //        }
 //    }
 //    } );

 // });  

$( document ).ready(function getJSON() {
var table = $('#employee_data').DataTable({
        "bProcessing": true,
        "serverSide": true,
        
          "ajax":{
             url :"../php/server_side.php", // json datasource
             type: "post",  // type of 
             }
    } );
 
 });
 </script>
 
 <div id="chart-container">
        <canvas id="graphCanvas"></canvas>
    </div>
    <script>
        $(document).ready(function () {
            showGraph();
        });


        function showGraph()
        {
            {
                $.post("../php/charts.php",
                function (data)
                {
                    console.log(data);
                    data=JSON.parse(data);
                    var ussername= [];
                    var salary = [];

                    for (var i in data) {
                        ussername.push(data[i].ussername);
                        console.log(data[i].ussername);
                        salary.push(data[i].salary);
                    }

                    var chartdata = {
                        labels:ussername,
                        datasets: [
                            {
                                label: 'From top to least payed',
                                backgroundColor: '#49e2ff',
                                borderColor: '#46d5f1',
                                hoverBackgroundColor: '#CCCCCC',
                                hoverBorderColor: '#666666',
                                data: salary
                            }
                        ]
                    };

                    var graphTarget = $("#graphCanvas");

                    var barGraph = new Chart(graphTarget ,{
                        type: 'bar',
                        data: chartdata
                    });
                });
            }
        }
        </script>
</body>
</html>
